!function(e,t){"function"==typeof define&&define.amd?define(["underscore"],t):"object"==typeof exports?module.exports=t(require("underscore")):e.Enumerate=t(e._)}(this,function(e){var t={},u=function(t,u){var n,r=function(){return s.apply(this,arguments)},a=function(){this.constructor=n},s=this,o=t&&e.has(t,"constructor");return n=o?t.constructor:r,e.extend(n,s,u),a.prototype=s.prototype,n.prototype=new a,t&&e.extend(n.prototype,t),n.__super__=s.prototype,n},n=function(e){e=e||{},this._key=e.key,this._rawValue=e.rawValue,this._associatedValue=e.associatedValue};n.extend=u,n.prototype.getAssociatedValue=function(){return this._associatedValue},n.prototype.getRawValue=function(){return this._rawValue},n.prototype.value=function(){var t=this.getRawValue(),u=this.getAssociatedValue();return e.isUndefined(u)?e.isUndefined(t)?void 0:t:u},n.prototype.toString=function(){return this._key};var r=function(t){this.ValueType=this.ValueType||n,this._values=t,this._enumeratedValues=this.enumerateValues(this._values),e.extend(this,this._enumeratedValues)};return r.extend=u,r.prototype.values=function(){return e(this._enumeratedValues).values()},r.prototype.keys=function(){return e(this._enumeratedValues).keys()},r.prototype.keyValues=function(){return this._enumeratedValuesToKeyValues(this._enumeratedValues)},r.prototype._enumeratedValuesToKeyValues=function(t){return e(this._enumeratedValues).map(function(e,t){return{key:t,enumValue:e}})},r.prototype.enumerateValues=function(t){var u,n=this._mapAssociativeValues.bind(this),r=this._mapRawValues.bind(this),a=!e.isArray(t)&&e.isObject,s=e.isArray(t);return s&&(u=n),a&&(u=r),e.chain(t).map(u).object().value()},r.prototype._mapAssociativeValues=function(e){return[e,this._createAssociativeConstructor(e)]},r.prototype._createAssociativeConstructor=function(e){return function(t){return new this.ValueType({key:e,associatedValue:t})}},r.prototype._mapRawValues=function(e,t){return[t,new this.ValueType({key:t,rawValue:e})]},t.EnumValue=n,t.Enum=r,t});